{% extends "base.njk" %}

{% block structured_data %}
        <script type="application/ld+json">
            {
            "@context": "https://schema.org",
            "@type": "BlogPosting",
            "headline": "{{ title }}",
            "description": "{{ subtitle or site.subtitle }}",
            "author": {
                "@type": "Person",
                "name": "{{ site.authorName }}",
                "url": "{{ site.url }}"
            },
            "datePublished": "{{ page.date.toISOString() }}",
            "dateModified": "{{ page.inputPath | lastModifiedDate }}",
            "url": "{{ site.url }}{{ page.url }}",
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "{{ site.url }}{{ page.url }}"
            },
            "image": "{{ site.url }}{{ featured_image }}",
            "keywords": "{{ tags | join(', ') }}",
            "wordCount": "{{ content | wordCount }}",
            "articleBody": "{{ content | replace('<p>', '') | replace('</p>', ' ') | striptags | truncate(500) | escape }}"
            }
        </script>
{% endblock %}

{% block nav_links %}
                    <a href="/recipe-box" class="no-tufte-underline">Recipe Box</a>
{% endblock %}

{% block article_header %}
            <h1>{{ title | markdownInline | safe }}</h1>
            {% if subtitle %}<p class="subtitle">{{ subtitle | markdownInline | safe }}</p>{% endif %}
            <p class="date">{{ page.inputPath | lastModifiedDate | postDate }}</p>
{% endblock %}
