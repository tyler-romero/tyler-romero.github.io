<!DOCTYPE html>
<html lang="en">
    <head>
        {% include "head.njk" %}
        <script type="application/ld+json">
            {
            "@context": "https://schema.org",
            "@type": "BlogPosting",
            "headline": "{{ title }}",
            "description": "{{ subtitle or site.subtitle }}",
            "author": {
                "@type": "Person",
                "name": "{{ site.authorName }}",
                "url": "{{ site.url }}"
            },
            "datePublished": "{{ page.date.toISOString() }}",
            "dateModified": "{{ page.inputPath | lastModifiedDate }}",
            "url": "{{ site.url }}{{ page.url }}",
            "mainEntityOfPage": {
                "@type": "WebPage",
                "@id": "{{ site.url }}{{ page.url }}"
            },
            "image": "{{ site.url }}{{ featured_image }}",
            "keywords": "{{ tags | join(', ') }}",
            "wordCount": "{{ content | wordCount }}",
            "articleBody": "{{ content | replace('<p>', '') | replace('</p>', ' ') | striptags | truncate(500) | escape }}"
            }
        </script>
    </head>
    <header>
        <nav class="topbar">
            <div class="right-aligned-links">
                <a href="/"
                   class="no-tufte-underline"
                   style="color: #246eb9;
                          margin-right: 3%">Tyler Romero</a>
                <a href="/recipe-box" class="no-tufte-underline">Recipe Box</a>
            </div>
        </nav>
    </header>
    <body>
        <article>
            <h1>{{ title | markdownInline | safe }}</h1>
            {% if subtitle %}<p class="subtitle">{{ subtitle | markdownInline | safe }}</p>{% endif %}
            {% if date %}<p class="date">{{ date | postDate }}</p>{% endif %}
            {{ content | safe }}
        </article>
        <footer>
            {% include "footer.njk" %}
        </footer>
    </body>
</html>
