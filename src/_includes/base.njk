<!DOCTYPE html>
<html lang="en">
    <head>
        {% include "head.njk" %}
        {% block structured_data %}{% endblock %}
    </head>
    <body>
        <header>
            <nav class="topbar">
                <div class="right-aligned-links">
                    <a href="/"
                       class="no-tufte-underline nav-brand">Tyler Romero</a>
                    {% block nav_links %}
                    <a href="/#posts" class="no-tufte-underline">posts</a>
                    <span class="desktop-only">
                        <a href="/#projects" class="no-tufte-underline">projects</a>
                        <a href="/#reading-list" class="no-tufte-underline">reading list</a>
                    </span>
                    {% endblock %}
                </div>
            </nav>
        </header>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                if (typeof RoughNotation === 'undefined') return;
                var links = document.querySelectorAll('.topbar a:not(.nav-brand)');
                links.forEach(function(link) {
                    var annotation = RoughNotation.annotate(link, {
                        type: 'underline',
                        color: getComputedStyle(document.documentElement).getPropertyValue('--link-color').trim(),
                        strokeWidth: 2,
                        animationDuration: 300,
                        iterations: 1
                    });
                    link.addEventListener('mouseenter', function() { annotation.show(); });
                    link.addEventListener('mouseleave', function() { annotation.hide(); });
                });
            });
        </script>
        <article>
            {% block article_header %}{% endblock %}
            {{ content | safe }}
        </article>
        <footer>
            {% include "footer.njk" %}
        </footer>
    </body>
</html>
